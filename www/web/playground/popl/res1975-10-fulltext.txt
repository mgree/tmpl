a description of path expressions by petri pe and rh computing laboratory university of upon upon nets abstract petri nets are used to express synchronization than notation prove to be interesting and define a path previous path in their and process notations own right notation which is more general in its ability to the petri net classes corresponding to the path and have properties such as liveness o introduction this paper by petri nets is the first the concept of a set of a path of two joint papers expression used in written on the these papers is and as a new method of describing the synchronization path notation used to illustrate this concept was shown to be equivalent dijkstra with respect to its ability to express any given synchronization rules allowed any path expression in the notation to be translated into synchronization based on p and v operations description of path expressions based on that introduced by of processes the example to p and v operations of a set of transformation an equivalent description of the in the present paper an equivalent definition of a subset of that notation in terms of petri nets petri is given the definition is subsequently used to extend the path notation by removing a restriction maintained in similarly extensions are made from an elementary notion of process defined in terms of petri nets in the second of the set of papers and the resulting notation is applied to a synchronization problem various written in path petri net p and v notation are compared and and several solutions are presented a third paper was an initial attempt to describe the entire notation of rl by means of petri nets or the path notation allows synchronization to be specified in terms of named actions the actions are procedures capable of being executed by processes each procedure whose execution is to be synchronized must be named in a path expression indicating its synchronization properties with respect to the ions of other procedures named a process invoking a procedure named in a path expression may proceed to execute it provided the synchronization specified by the path expression is not otherwise the process is delayed until it can execute the procedure without the synchronization restriction in analogy to finite strings of actions they set uniquely describes strings of actions state accept such the synchronization mechanisms sets can be path regarded by expressions as the all path will semantics expressions be identified with of path expressions accepting the the set since same set of each of petri nets may be thought of as directed graphs in which no two adjacent vertices have the same of a vertex is indicated by its shape either round or square vertices and square vertices are called and transitions respectively and denote conditions and events a net being a set of vertices with directed arcs can be used to describe arbitrary systems of occurrences of events this interpretation is obtained by specifying that an event may occur if all its conditions hold in the system this is indicated in the net by a directed arc from the places denoting the enabling conditions of the event to the transition denoting the event thus net specifies the set of all possible sequences of events of the system the net can also be used to simulate system behaviour by indicating the holding of a condition in the system by placing a token into the corresponding place in the net assume that a transition is enabled to when all its enabling places are that means a single token from each enabling place and adding a single token on each place with a directed arc from the node to that place the output place this the work was carried science research out as part of the phd thesis of rh who was by a grant from if two transitions share an enabling place with one token on it they are said to be in conflict over that place both are enabled but only one will the other this implies a marked net represents the set of all sequences of occurrences of events of transitions determined by the holding of the conditions corresponding to the marked places a marked net is live if each of its component transitions is live a transition is live at a given marking if there exists a sequence of which for every marking reachable from the given marking a marking is reachable from another marking if there exists a sequence of which transforms the latter into the former a marked net is safe if all its component places are safe a place is safe at a given marking if every marking reachable from the given marking has at most one token on that place petri nets corresponding to path expressions will have their transitions labelled with names of the corresponding component actions of the path expressions the occurrence graphs of and can be used to characterize the set of all possible sequences of of the transitions executions of actions of a net this permits the identification of a net with the set of all possible sequences in analogy to the identification of path expressions with the set of strings of actions they will accept a petri net simulates a path expression if and only if the set of strings of actions is exactly the set of strings of actions accepted by the path expression in the sequel specified such that given a path notation the application of the algorithm to an arbitrary belonging to that notation will yield a corresponding simulating net proofs of theorems expressions and their corresponding simulating nets will be kept brief and informal in the it generates an algorithm is expression concerning path present elementary paths elementary path for the syntax of short involve is specified three by four synchronization like schemes productions and a restriction selection and as follows production rules pi p path sequence sequence sequence end i p element i element p element i sequence restriction ri no procedure name may occur more than once in a path elementary paths are all and only those strings by pp and satisfying r simulating nets of elementary paths translation of an elementary path into its accomplished by application of the first of the followed by repeated application of the remaining until no rule applies the transitions of the each rule permits the replacement of a part of by the right hand side of the rule preserving ment corresponding simulating net for short will be following four transformation rules to the given path rules to the intermediate results already obtained resulting net will be labelled only by procedure names the net corresponding to the left hand side of the rule all markings if any on places involved in the al tr o i k tie q a i figure below before illustrates a possible transformation a proof of the first theorem process by these rules some terminology will he introduced in the diagrams t and t are shared initial of r and p and terminal transitions respectively pl and pa are shared and output places respectively of t and tz ti are live and safe state machines proof first we show that all are state machines state machines are nets having shared input andor output places but no shared initial or terminal transitions cf and none of rules are capable of producing shared transitions it remains condition to be shown that the resulting that a strongly connected state state machines machine is live are live and and safe is safe that a and every sufficient circuit of the net have exactly one marker on it it is easily verified that when applied to produce only strongly connected state machines each of whose elementary circuits pass through the place produced and marked by from the the marker on this place is furthermore the only marker on the net qed repeat paths repeat paths for short involve the same synchronization schemes as their syntax is likewise specified by means of but without restriction r hence in the same procedure name may occur more than once two actions with the same name must be distinguished from a single action whose name appears at two different occurrences in a path expression the extension to permits only the latter indicating that the single action is subsumed under several sets of ions this means that the corresponding simulating net will only have a single corresponding transition for the action and this transition will be labelled by a single procedure name simulating nets of repeat paths these to obtain a simulating rules are applicable net of keeping a repeat a record path for of all repeated short apply as before procedure names then starting until at none the of marked place all repeated introduced procedure by tr let us call it names have been treated the initial and tr no longer of the applies net apply for the tr algorithm to until function correctly a new path must be taken every time the initial place is reached again being the first treated occurrence of a repeated by s procedure name x is treated ji il by subsequent occurrences l t the transformation permits net n transitions are introduced to ensure return the are of transition introduced the marker with label x to be enabled from n to the enabling of x and to the correct place in the net separate a further places in the n transitions figure is an example of a live and safe obtained by application of these rules t are live and safe simple nets proof if and only machines by with at most again we begin by if every transition t thus it must one shared input showing that has at most be shown that place this all one shared applications is done by are simple nets a petri net is a simple net sn input place produce state of tr to state machines can only produce nets induction on the number of applications of tr the net application side reveals corresponding to the left of the rule produces a right that it contains no shared hand side of the rule hand side embedded in this input places and hence it is part of a state machine sm sm of the right hand satisfies the condition assume that the left hand side of rule hypothesis an application of the rule will introducing transitions and t into the most one input place with another transition to replace left net both of which a net hand satisfy satisfying the side by the right the condition condition hand side that they as induction thereby share at finally it must be shown that are live and safe as for liveness and of general simple nets is known hence subset of sn contains only members having this property by by t we know that nets produced from yet no necessary and sufficient condition it must be shown that our particular to the definitions by are live of liveness and safe and hence it must be shown that number of applications application of the of tr rule preserves this property this is again done by induction on the by the above reasoning transition be on the left hand of to must like be and marks pi and pz on increasing the total number of on the net to two x is the only transition enabled in this situation and on it will mark p leaving the number of on the net unchanged and enabling cl when tl the total number of will again be reduced to one hence the structure introduced by into a live and safe net is itself live and safe and preserves the liveness and of the whole assume as induction hypothesis that the left hand side of rule is part of a live and safe net it remains to be shown that the net produced by one application of the rule will also be live and safe consider the labelled right hand side of the rule note that an application of the rule leaves all initial and terminal transitions of pz and pa respectively unchanged and the additional tz and t preserve the rest the connections of the net of the transition of the assume tl enabling tz which repeated procedure name is the initial transition treated to to x just introduced by the application of the rule tz is the only enabled transition in the net by induction hypothesis on tz will mark pa and pa being the only enabled transition x will marking p and enabling only ta since all other placed in the will be on ta will again reduce the total number of to one which proves the theorem qed compound paths compound paths classes of paths discussed production p to and for short are collections so far they can be thought satisfying the restriction of paths belonging of as being obtained r stated below pi path path r no procedure name may occur in more than one path to either one of the simple by addition of a further one constituent are path is ur depending an respectively on whether all constituent paths are or at least paths paths corresponding of the to and are collections of are understood the disjoint in analogy t are collections of live and safe are collections of live and safe andor proof immediate from tl t and r nets produced from to their corresponding the component ce or cr general paths general paths for short are obtained from and will be called named in several paths belonging to the same specified by these paths for which restriction r has been and respectively can only be executed by a process will however be considered to a procedure if permitted by all be special cases of thus simulating simulating increasing nets of general nets of the complexity paths will be called of the nets to we will introduce be considered by steps and general elementary nets the corresponding to the constituent to any two labelled transitions of until all such transitions have been identified of the resulting the nets the are obtained following rule for n as in section is applied r m nl f es i t since transitions where the components of are the rule number of incoming of course permits arrows is always there are arbitrarily equal to the many number shared shared initial of outgoing initial and arrows and terminal terminal note transitions however that the class of nets into live nets but not the entire as yet been studied in in his recent we obtain from live and safe state machines by this rule is always uniquely and safe state machines thus we obtain a larger class of petri nets than simple class of general petri nets this seems to be a new class of nets which has not petri net theory but may be close to the class of nets studied by phd thesis the following two examples illustrate the rule a b wa a b c end b end b the net generates the following string of which is acceptable to the ab consider this string of actions we can immediately write down an which accepts it which translates c m d t into the simulating pm s end rm end c dl s net shown to be equivalent to the above net zs p m r where useful unambiguous combine arcs to the same and we leading place note that this correct since other net is live m must occur and safe exclusive m only of both s and when both r whereas its enabling the latter places are marked which need not occur exclusive is of each t are safe general petri nets proof hand places the theorem follows side of are safe while keeping their from and initial the assumption the fact that transitions that the safe places distinct input can and only output places be made unsafe of the net on the left by identifying two safe to which is that not live the composition of construct simulating two live nets and safe for the following by means of may result in a both examples all of whose produce nets which places are d are not live let us call due to the existence such cycles empty of elementary cycles cycles between a and b there is however a class ness and let that each component path is an are nets produced from following theorem holds of generalized elementary paths for which be generated by p and p alone but procedure names may be repeated by tr tr and provided t are safe marked graphs proof by t we can already guarantee and be in more one path we identify multiple arcs the next satisfying we define as s xl n xn xn x and xi for i such that by until no constituent paths contain sequences s s form the expected subset of t are live and safe marked graphs proof we do not give a proof at this point but such a proof depends on the fact that the presence of such sequences in a is sufficient and necessary reason for the corresponding to contain an elementary with no ie an empty cycle the latter is known to be a sufficient and necessary reason for the marked not to be live hence together with t the exclusion of such sequences in guarantees the liveness and of the corresponding marked graph general repeat nets the as previously and corresponding treat to the constituent as in the previous xt tm t section and of if a transition the t is of are obtained the form it will remaining be called a multiple transition and terminating transitions labelled simple transitions labelled transitions t and t ordinary through tm and tt through transitions will be t will simple by until none remain to be combined by the following rule be called its next combine finally combine all all if one is a multiple transition and the other is a simple transition p note that the input net respectively places a construction of simulating and output places of the resulting nets of the following net constitute a coding and a reveals example that both nets are not live are from the after a finite sequence of for the resulting but the transitions but both markings of the nets are all net trivially transitions of for the second safe the net example for the first only become actually the examples are ation of the examples indicates necessary criterion for liveness where that even a restriction and are defined to in analogy to would not yield a sufficient a and much means of work remains to in the remaining rather be done to extend the part of the r we than theorems earlier express theorems our to that such extensions and are by cl are safe c there is a restriction rl on such that gi nets are live and safe a construction of extending the restriction nets for the following theorems to examples will and indicate some of the difficulty involved in ab end and w end and b ca end t recently h r to be valid from recent and results in to petri us his net theory that our by can be shown c there c there is a restriction is a restriction r on r on such that such that are live are live and safe and safe path classes and their instantiation it may be necessary to have many instances instances of the actions named in them the indicate the general form of a class of paths belonging and the to the class corresponding he can use a corresponding path will be created of paths of the same general form class notation is introduced to enable every time instantiation he requires a particular statement analogous on execution of the statement but involving different the programmer to instance of a path to a procedure call the productions syntax and of class declarations their and instantiation restriction specified by means of the following p p r classes instantiation each declaration is unique and its each use in an instantiation must be unique and must different be by a corresponding from the class classes together with their corresponding rise to when the instantiation are executed instantiation according to the will be identified following rule with the paths give suppose we have n classes and m instantiation involving the class names the rule is tr class l c n pn cn c n pn cn where mm c with the appropriate throughout note that the class subscripts corresponding indicates to the is that all instantiation involving have been treated according result deleted to this of substituting and rule thus been for en assumed elementary processes elementary processes specified by two productions for and a restriction short are cyclic as follows p process p y end r no may occur more than once in a process and involve simulating nets of elementary processes translation accomplished followed by of an by application of repeated application into its corresponding the first of the following of the second rule to simulating transformation the intermediate net only sequencing their syntax rules results for short will be to the given process already obtained until is j f i tr the set of is a subset of the set of proof corollary immediate from a comparison of and are live and safe state machines marked graphs proof that they are live and safe is immediate follows from the fact that they have neither from shared ti and input t nor note also that are simulating nets of that output they are places live and safe repeat processes and their simulating nets repeat processes the same procedure name to occur for short are specified more than once in a process by their but without corresponding restriction simulating for short are produced as in section except that are replaced by r nets t the set of is a subset of the set of proof obvious from above remarks corollary are live and safe simple nets proof immediate from t and t compound processes compound processes the simple classes of of a further production for processes discussed to pp and short are collections so far they can of processes belonging to be thought of as being obtained satisfying the restriction r either one of by addition process process r no procedure name may appear in more than one process obtained cf are section or as before and a theorem corresponding to t may be general processes general processes for and are defined several processes belonging to the same the others are considered ation of multiple occurrences of procedure short are for which restriction r has been analogously to in section a procedure named in can be executed by any of the processes independent of to be special cases of this leads to an names analogous to the interpretation of the same fact in simulating nets of general processes simulating nets of will be called they are obtained from the and nets corresponding to the constituent and respectively of the by means of rule tr note however that the resulting nets seem to if we markings when are considered we see that there are as many on the net as there were constituent processes of the this is indicated by the n in thus the earlier are really and the earlier are really but all the resulting nets were safe in the sense of the definition in the proof of t in the present context it will be useful to employ a more general notion of a petri net is at marking m if and only if every place of the net is at marking m a place is at marking m if and only if every marking m reachable from m has at most m on the place thus the old notion of is now seen to be the same as c corresponding are live and sharing simple nets a procedure name and m is the maximum number of processes of the consider program which the following example deadlocks eg ­ which will ultimately be used to generate a e l e e r the program is of the present a representation in of the so called s problem which is studied bv means path the resulting expressions are of eg which disjoint constitute having no names in common they a and are will be linked by means of the by their corresponding programs the restriction syntax of programs r while is specified all other by adding restrictions two productions po ph program q classes path instantiations to productions pp and keeping r programs are all and only due to tr we can identify those strings programs with ordered by productions pairs of the form and satisfying restriction ji simulating nets of programs simulating nets of programs for short to and respectively and results until it is no longer applicable the number and the number of component processes in the original are obtained then applying n will be program by reducing their component and tr to the intermediate the sum of the number of component paths next we give an example of the result ion of examples eg the net obtained of applying the from this program rule to the program is a pe which resulting is from a but not multiple transitions will be simply represented by where it is understood that will move from input places to corresponding output places and t is enabled when either or both input places are marked the example fig is presented in abbreviated form for ease of considering aspects of to liveness lines denote paths broken lines processes although no sufficient and necessary criterion of liveness and of easy to see that the above net is not live by observing that the involving capable of as many as three from pi pa without enabling either of the rest of the net shows that at most two of pi pz or pa can be marked without hence the possibility of deadlock is demonstrated is known it is ki or g and g is an one of k i or g finally obtained from processes by we the the give an program following example program of figure by processes whose adding simulating the net figure of figure does not deadlock and replacing the the program last three is process bo dp fq tg rk end si end petri nets and their simulation by path expressions for completeness we notation the following and processes to simulate ion due to the implementation mention that safe general petri nets may be described transformations may be applied to such a net to yield that net the rules for transitions will be and semantics of the path notation by the path and process a set of path expressions built into this tr tr or p el e ej al a a if the place is marked ai ak el e ej end end ai and action introduced ej of are the to the actions transition invoke each of removing to action a marker complete from or placing the description a marker on a place respectively of the petri net a set of processes and t the are conclusion a path notation which is more general in its ability to express synchronization than that given in has been presented the semantics of this notation has been formally specified by a set of transformations which translate programs using path expressions and processes into petri nets which them the use of petri nets permitted a systematic extension from an elementary path notation to the most general class treated in this paper in addition the petri nets justify our extensions of the path notation by ing a machine independent implementation the results obtained in this paper should further attempts to extend our knowledge of the properties of the more complex types of petri nets we have defined the new criteria classification for a large of class petri nets should of nets which had furthermore allow the determination been with general of liveness and petri nets about which little has so far been proved finally we have completed a set of transformations between various synchronization mechanisms path expressions can describe p and v operations and p and v operations can describe path expressions now we have shown that path expressions can describe general petri nets and that petri nets can describe path expressions a of path expressions has now been shown to be equivalent to message transfer systems by this as a since in that are only properly contained in petri nets in demonstrates equivalence of and petri nets acknowledgements we with the helpful we have had with our in particular rh and an the specification of process synchronization by path expressions university of upon computing laboratory technical report series no rh and pe a of solutions to the problem an application of the description of path expressions by petri nets computing laboratory upon technical report series no dijkstra ew sequential processes academic press new york in programming languages f ed pe path expressions as petri nets or petri nets with fewer computing laboratory university of upon january k der von nd analysis of production by petri nets thesis mit aw and f events and conditions applied data research new york petri c a mit communication with automata phd thesis ha an approach to the communication and synchronization of processes in international computing symposium eds a et al northholland co w e a comparison memo the university of path expressions of upon and message computing transfer expressions laboratory july systems research we the equivalence of petri nets and message transfer models research memo the university of upon computing laboratory august jl and th a comparison of models of parallel computation proc ifip august north holland amsterdam pp to path op r q s end v o p r q s o q s tr tr tr tr tr f m and qt o p r q p o r q os pt abbreviated p net which is and safe v w l i m l q t q r s gg y io fi l ll ab end cj end ef g a gh end ij end path kl end i p r q p r q t q p t m e end ss end m e s tk h end fo process j g dp end process l q sg 